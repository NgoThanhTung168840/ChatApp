{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Tung Thanh\\\\Desktop\\\\Project_HPT\\\\react-spring-messenger-project\\\\Client\\\\src\\\\components\\\\websocket\\\\websocket-main-component.tsx\",\n  _s = $RefreshSig$();\nimport \"./websocketStyle.css\";\nimport React, { useEffect } from \"react\";\nimport { WebSocketChatComponent } from \"./websocket-chat-component\";\nimport { WebSocketGroupActionComponent } from \"./websocket-group-actions-component\";\nimport { WebsocketGroupsComponent } from \"./websocket-groups-component\";\nimport { useThemeContext } from \"../../context/theme-context\";\nimport { generateColorMode } from \"../utils/enable-dark-mode\";\nimport { useWebSocketContext, WebsocketContextProvider } from \"../../context/ws-context\";\nimport { isStringUUIDType } from \"../../utils/uuid-generator\";\nimport { useSelector } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const WebSocketMainComponent = () => {\n  _s();\n  const {\n    theme\n  } = useThemeContext();\n  const {\n    ws\n  } = useWebSocketContext();\n  const [groupUrlProps, setGroupUrl] = React.useState(\"\");\n  const {\n    currentActiveGroup\n  } = useSelector(state => state.globalReducer);\n  useEffect(() => {\n    console.log(\"GROUP CHANGE\", currentActiveGroup);\n    if (isStringUUIDType(currentActiveGroup)) {\n      console.log(\"NEW GROUP URL\", currentActiveGroup);\n      setGroupUrl(currentActiveGroup);\n    } else {\n      const groupUrl = window.location.pathname.split(\"/\").slice(-1)[0];\n      if (isStringUUIDType(groupUrl)) {\n        setGroupUrl(groupUrl);\n      }\n    }\n  }, [currentActiveGroup]);\n  useEffect(() => {\n    document.title = \"Messages | FLM\";\n    return () => {\n      if (ws) {\n        ws.deactivate();\n      }\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: generateColorMode(theme),\n    style: {\n      height: \"calc(100% - 64px)\",\n      display: \"flex\",\n      justifyContent: \"space-between\"\n    },\n    children: /*#__PURE__*/_jsxDEV(WebsocketContextProvider, {\n      children: [/*#__PURE__*/_jsxDEV(WebsocketGroupsComponent, {\n        groupUrl: groupUrlProps\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(WebSocketChatComponent, {\n        groupUrl: groupUrlProps\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(WebSocketGroupActionComponent, {\n        groupUrl: groupUrlProps\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 3\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n_s(WebSocketMainComponent, \"rAG6aaxd32esGw3QhYIA7+RKUL8=\", false, function () {\n  return [useThemeContext, useWebSocketContext, useSelector];\n});\n_c = WebSocketMainComponent;\nvar _c;\n$RefreshReg$(_c, \"WebSocketMainComponent\");","map":{"version":3,"names":["React","useEffect","WebSocketChatComponent","WebSocketGroupActionComponent","WebsocketGroupsComponent","useThemeContext","generateColorMode","useWebSocketContext","WebsocketContextProvider","isStringUUIDType","useSelector","WebSocketMainComponent","theme","ws","groupUrlProps","setGroupUrl","useState","currentActiveGroup","state","globalReducer","console","log","groupUrl","window","location","pathname","split","slice","document","title","deactivate","height","display","justifyContent"],"sources":["C:/Users/Tung Thanh/Desktop/Project_HPT/react-spring-messenger-project/Client/src/components/websocket/websocket-main-component.tsx"],"sourcesContent":["import \"./websocketStyle.css\"\r\nimport React, { useEffect } from \"react\"\r\nimport { WebSocketChatComponent } from \"./websocket-chat-component\"\r\nimport { WebSocketGroupActionComponent } from \"./websocket-group-actions-component\"\r\nimport { WebsocketGroupsComponent } from \"./websocket-groups-component\"\r\nimport { useThemeContext } from \"../../context/theme-context\"\r\nimport { generateColorMode } from \"../utils/enable-dark-mode\"\r\nimport { useWebSocketContext, WebsocketContextProvider } from \"../../context/ws-context\"\r\nimport { isStringUUIDType } from \"../../utils/uuid-generator\"\r\nimport { useSelector } from \"react-redux\"\r\nimport { StoreState } from \"../../reducers/types\"\r\n\r\nexport const WebSocketMainComponent: React.FunctionComponent = (): JSX.Element => {\r\n  const { theme } = useThemeContext()\r\n  const { ws } = useWebSocketContext()\r\n  const [groupUrlProps, setGroupUrl] = React.useState<string>(\"\")\r\n  const {\r\n    currentActiveGroup,\r\n  } = useSelector(\r\n    (state: StoreState) => state.globalReducer\r\n  )\r\n\r\n  useEffect(() => {\r\n    console.log(\"GROUP CHANGE\", currentActiveGroup)\r\n    if (isStringUUIDType(currentActiveGroup)) {\r\n\t console.log(\"NEW GROUP URL\", currentActiveGroup)\r\n\t setGroupUrl(currentActiveGroup)\r\n    } else {\r\n\t const groupUrl = window.location.pathname.split(\"/\").slice(-1)[0]\r\n\t if (isStringUUIDType(groupUrl)) {\r\n\t   setGroupUrl(groupUrl)\r\n\t }\r\n    }\r\n  }, [currentActiveGroup])\r\n\r\n  useEffect(() => {\r\n    document.title = \"Messages | FLM\"\r\n    return () => {\r\n\t if (ws) {\r\n\t   ws.deactivate()\r\n\t }\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <div className={generateColorMode(theme)}\r\n\t    style={{\r\n\t\t height: \"calc(100% - 64px)\",\r\n\t\t display: \"flex\",\r\n\t\t justifyContent: \"space-between\"\r\n\t    }}>\r\n\t <WebsocketContextProvider>\r\n\t   <WebsocketGroupsComponent groupUrl={groupUrlProps}/>\r\n\t   <WebSocketChatComponent groupUrl={groupUrlProps}/>\r\n\t   <WebSocketGroupActionComponent groupUrl={groupUrlProps}/>\r\n\t </WebsocketContextProvider>\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":";;AAAA,OAAO,sBAAsB;AAC7B,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,sBAAsB,QAAQ,4BAA4B;AACnE,SAASC,6BAA6B,QAAQ,qCAAqC;AACnF,SAASC,wBAAwB,QAAQ,8BAA8B;AACvE,SAASC,eAAe,QAAQ,6BAA6B;AAC7D,SAASC,iBAAiB,QAAQ,2BAA2B;AAC7D,SAASC,mBAAmB,EAAEC,wBAAwB,QAAQ,0BAA0B;AACxF,SAASC,gBAAgB,QAAQ,4BAA4B;AAC7D,SAASC,WAAW,QAAQ,aAAa;AAAA;AAGzC,OAAO,MAAMC,sBAA+C,GAAG,MAAmB;EAAA;EAChF,MAAM;IAAEC;EAAM,CAAC,GAAGP,eAAe,EAAE;EACnC,MAAM;IAAEQ;EAAG,CAAC,GAAGN,mBAAmB,EAAE;EACpC,MAAM,CAACO,aAAa,EAAEC,WAAW,CAAC,GAAGf,KAAK,CAACgB,QAAQ,CAAS,EAAE,CAAC;EAC/D,MAAM;IACJC;EACF,CAAC,GAAGP,WAAW,CACZQ,KAAiB,IAAKA,KAAK,CAACC,aAAa,CAC3C;EAEDlB,SAAS,CAAC,MAAM;IACdmB,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEJ,kBAAkB,CAAC;IAC/C,IAAIR,gBAAgB,CAACQ,kBAAkB,CAAC,EAAE;MAC5CG,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEJ,kBAAkB,CAAC;MAChDF,WAAW,CAACE,kBAAkB,CAAC;IAC7B,CAAC,MAAM;MACT,MAAMK,QAAQ,GAAGC,MAAM,CAACC,QAAQ,CAACC,QAAQ,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACjE,IAAIlB,gBAAgB,CAACa,QAAQ,CAAC,EAAE;QAC9BP,WAAW,CAACO,QAAQ,CAAC;MACvB;IACE;EACF,CAAC,EAAE,CAACL,kBAAkB,CAAC,CAAC;EAExBhB,SAAS,CAAC,MAAM;IACd2B,QAAQ,CAACC,KAAK,GAAG,gBAAgB;IACjC,OAAO,MAAM;MACf,IAAIhB,EAAE,EAAE;QACNA,EAAE,CAACiB,UAAU,EAAE;MACjB;IACE,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,oBACE;IAAK,SAAS,EAAExB,iBAAiB,CAACM,KAAK,CAAE;IACxC,KAAK,EAAE;MACTmB,MAAM,EAAE,mBAAmB;MAC3BC,OAAO,EAAE,MAAM;MACfC,cAAc,EAAE;IACd,CAAE;IAAA,uBACL,QAAC,wBAAwB;MAAA,wBACvB,QAAC,wBAAwB;QAAC,QAAQ,EAAEnB;MAAc;QAAA;QAAA;QAAA;MAAA,QAAE,eACpD,QAAC,sBAAsB;QAAC,QAAQ,EAAEA;MAAc;QAAA;QAAA;QAAA;MAAA,QAAE,eAClD,QAAC,6BAA6B;QAAC,QAAQ,EAAEA;MAAc;QAAA;QAAA;QAAA;MAAA,QAAE;IAAA;MAAA;MAAA;MAAA;IAAA;EAChC;IAAA;IAAA;IAAA;EAAA,QACnB;AAEV,CAAC;AAAA,GA9CYH,sBAA+C;EAAA,QACxCN,eAAe,EAClBE,mBAAmB,EAI9BG,WAAW;AAAA;AAAA,KANJC,sBAA+C;AAAA;AAAA"},"metadata":{},"sourceType":"module"}