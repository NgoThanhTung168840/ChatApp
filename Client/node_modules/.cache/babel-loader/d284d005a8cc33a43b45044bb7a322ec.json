{"ast":null,"code":"import { Client } from \"@stomp/stompjs\";\nimport { UUIDv4 } from \"../utils/uuid-generator\";\nconst WS_URL = process.env.NODE_ENV === \"development\" ? \"localhost:9090/\" : \"localhost:9090/\";\nconst WS_BROKER = process.env.NODE_ENV === \"development\" ? \"ws\" : \"wss\";\nexport function initWebSocket(userToken) {\n  return new Client({\n    brokerURL: `${WS_BROKER}://${WS_URL}messenger/websocket?token=${userToken}`,\n    // Uncomment lines to activate WS debug\n    // debug: (str: string) => {\n    //     console.log(str);\n    // },\n    connectHeaders: {\n      clientSessionId: UUIDv4()\n    },\n    reconnectDelay: 5000,\n    heartbeatIncoming: 4000,\n    heartbeatOutgoing: 4000\n  });\n}","map":{"version":3,"names":["Client","UUIDv4","WS_URL","process","env","NODE_ENV","WS_BROKER","initWebSocket","userToken","brokerURL","connectHeaders","clientSessionId","reconnectDelay","heartbeatIncoming","heartbeatOutgoing"],"sources":["C:/Users/Tung Thanh/Desktop/Project_HPT/react-spring-messenger-project/Client/src/config/websocket-config.ts"],"sourcesContent":["import { Client } from \"@stomp/stompjs\"\r\nimport { UUIDv4 } from \"../utils/uuid-generator\"\r\n\r\nconst WS_URL = process.env.NODE_ENV === \"development\" ? \"localhost:9090/\" : \"localhost:9090/\"\r\n\r\nconst WS_BROKER = process.env.NODE_ENV === \"development\" ? \"ws\" : \"wss\"\r\n\r\nexport function initWebSocket (userToken: string): Client {\r\n\treturn new Client({\r\n\t\tbrokerURL: `${WS_BROKER}://${WS_URL}messenger/websocket?token=${userToken}`,\r\n\t\t// Uncomment lines to activate WS debug\r\n\t\t// debug: (str: string) => {\r\n\t\t//     console.log(str);\r\n\t\t// },\r\n\t\tconnectHeaders: { clientSessionId: UUIDv4() },\r\n\t\treconnectDelay: 5000,\r\n\t\theartbeatIncoming: 4000,\r\n\t\theartbeatOutgoing: 4000\r\n\t})\r\n}\r\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,gBAAgB;AACvC,SAASC,MAAM,QAAQ,yBAAyB;AAEhD,MAAMC,MAAM,GAAGC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa,GAAG,iBAAiB,GAAG,iBAAiB;AAE7F,MAAMC,SAAS,GAAGH,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa,GAAG,IAAI,GAAG,KAAK;AAEvE,OAAO,SAASE,aAAa,CAAEC,SAAiB,EAAU;EACzD,OAAO,IAAIR,MAAM,CAAC;IACjBS,SAAS,EAAG,GAAEH,SAAU,MAAKJ,MAAO,6BAA4BM,SAAU,EAAC;IAC3E;IACA;IACA;IACA;IACAE,cAAc,EAAE;MAAEC,eAAe,EAAEV,MAAM;IAAG,CAAC;IAC7CW,cAAc,EAAE,IAAI;IACpBC,iBAAiB,EAAE,IAAI;IACvBC,iBAAiB,EAAE;EACpB,CAAC,CAAC;AACH"},"metadata":{},"sourceType":"module"}