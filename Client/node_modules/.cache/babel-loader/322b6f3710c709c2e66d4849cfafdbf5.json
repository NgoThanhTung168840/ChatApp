{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Tung Thanh\\\\Desktop\\\\Project_HPT\\\\react-spring-messenger-project\\\\Client\\\\src\\\\components\\\\websocket\\\\websocket-group-actions-component.tsx\",\n  _s = $RefreshSig$();\nimport { Collapse, IconButton, List, ListItem, ListItemButton, ListItemIcon, ListItemSecondaryAction, ListItemText, MenuItem, Tooltip } from \"@mui/material\";\nimport { ExpandLess } from \"@mui/icons-material\";\nimport SecurityIcon from \"@mui/icons-material/Security\";\nimport ExpandMore from \"@mui/icons-material/ExpandMore\";\nimport PersonIcon from \"@mui/icons-material/Person\";\nimport GroupAddIcon from \"@mui/icons-material/GroupAdd\";\nimport GroupIcon from \"@mui/icons-material/Group\";\nimport MoreHorizIcon from \"@mui/icons-material/MoreHoriz\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { GroupActionEnum } from \"./group-action-enum\";\nimport { useAuthContext } from \"../../context/auth-context\";\nimport { useThemeContext } from \"../../context/theme-context\";\nimport { generateClassName, generateIconColorMode } from \"../utils/enable-dark-mode\";\nimport { useWebSocketContext } from \"../../context/ws-context\";\nimport { TransportModel } from \"../../interface-contract/transport-model\";\nimport { TransportActionEnum } from \"../../utils/transport-action-enum\";\nimport { AllUsersDialog } from \"../partials/all-users-dialog\";\nimport { HttpService } from \"../../service/http-service\";\nimport { setAlerts } from \"../../reducers\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const WebSocketGroupActionComponent = _ref => {\n  _s();\n  let {\n    groupUrl\n  } = _ref;\n  const [paramsOpen, setParamsOpen] = useState(false);\n  const [popupOpen, setPopupOpen] = useState(false);\n  const [usersInConversation, setUsersInConversation] = useState([]);\n  const [allUsers, setAllUsers] = useState([]);\n  const [isCurrentUserAdmin, setCurrentUserIsAdmin] = useState(false);\n  const [toolTipAction, setToolTipAction] = useState(false);\n  const [openTooltipId, setToolTipId] = useState(null);\n  const {\n    theme\n  } = useThemeContext();\n  const dispatch = useDispatch();\n  const {\n    ws\n  } = useWebSocketContext();\n  const httpService = new HttpService();\n  const {\n    user\n  } = useAuthContext();\n  const {\n    currentActiveGroup,\n    groups\n  } = useSelector(state => state.globalReducer);\n  useEffect(() => {\n    clearData();\n    return () => {\n      clearData();\n    };\n  }, [currentActiveGroup]);\n  function handleTooltipAction(event, action) {\n    event.preventDefault();\n    if (action === GroupActionEnum.OPEN) {\n      setToolTipAction(true);\n    }\n    if (action === GroupActionEnum.CLOSE) {\n      setToolTipAction(false);\n      setToolTipId(null);\n    }\n  }\n  function clearData() {\n    setAllUsers([]);\n    setToolTipAction(false);\n    setToolTipId(null);\n    setCurrentUserIsAdmin(false);\n    setUsersInConversation([]);\n    handlePopupState(false);\n    setParamsOpen(false);\n  }\n  function handleDisplayUserAction(event, id) {\n    event.preventDefault();\n    setToolTipId(id);\n  }\n  function closeDisplayUserAction(event) {\n    event.preventDefault();\n    setToolTipAction(false);\n    setToolTipId(null);\n  }\n  async function handleClick(event, action) {\n    event.preventDefault();\n    switch (action) {\n      case GroupActionEnum.PARAM:\n        if (usersInConversation.length === 0) {\n          const res = await httpService.fetchAllUsersInConversation(groupUrl);\n          res.data.forEach(groupUserModel => {\n            if (groupUserModel.userId === (user === null || user === void 0 ? void 0 : user.id) && groupUserModel.admin) {\n              setCurrentUserIsAdmin(true);\n            }\n          });\n          setUsersInConversation(res.data);\n        }\n        setParamsOpen(!paramsOpen);\n        break;\n      default:\n        throw new Error(\"Error, please refresh page\");\n    }\n  }\n  function handlePopupState(isOpen) {\n    setPopupOpen(isOpen);\n  }\n  async function handleAddUserAction(action) {\n    switch (action) {\n      case GroupActionEnum.OPEN:\n        handlePopupState(true);\n        if (allUsers.length === 0) {\n          const res = await httpService.fetchAllUsersWithoutAlreadyInGroup(groupUrl);\n          setAllUsers(res.data);\n        }\n        break;\n      case GroupActionEnum.CLOSE:\n        handlePopupState(false);\n        break;\n      default:\n        throw new Error(\"Cannot handle AddUserAction\");\n    }\n  }\n  function leaveGroup(userId) {\n    if (ws) {\n      const transport = new TransportModel(userId, TransportActionEnum.LEAVE_GROUP, undefined, groupUrl);\n      ws.publish({\n        destination: \"/app/message\",\n        body: JSON.stringify(transport)\n      });\n    }\n  }\n  async function removeUserFromAdminListInConversation(userId) {\n    try {\n      const res = await httpService.removeAdminUserInConversation(userId, groupUrl);\n      const users = [...usersInConversation];\n      const user = users.find(elt => elt.userId === userId);\n      if (user) {\n        user.admin = false;\n      }\n      setUsersInConversation(users);\n      dispatch(setAlerts({\n        alert: {\n          text: res.data,\n          alert: \"success\",\n          isOpen: true\n        }\n      }));\n    } catch (err) {\n      dispatch(setAlerts({\n        alert: {\n          text: \"Cannot remove user rights. Please retry later\",\n          alert: \"error\",\n          isOpen: true\n        }\n      }));\n    }\n  }\n  async function grantUserAdminInConversation(userId) {\n    try {\n      const res = await httpService.grantUserAdminInConversation(userId, groupUrl);\n      dispatch(setAlerts({\n        alert: {\n          text: res.data,\n          alert: \"success\",\n          isOpen: true\n        }\n      }));\n      const users = [...usersInConversation];\n      const user = users.find(elt => elt.userId === userId);\n      if (user) {\n        user.admin = true;\n      }\n      setUsersInConversation(users);\n    } catch (err) {\n      dispatch(setAlerts({\n        alert: {\n          text: \"Cannot grant user. Please retry later\",\n          alert: \"error\",\n          isOpen: true\n        }\n      }));\n    }\n  }\n  async function addUserInConversation(userId) {\n    try {\n      const res = await httpService.addUserToGroup(userId, groupUrl);\n      const users = [...usersInConversation];\n      users.push(res.data);\n      setUsersInConversation(users);\n      dispatch(setAlerts({\n        alert: {\n          text: `${res.data.firstName} has been added to group`,\n          alert: \"success\",\n          isOpen: true\n        }\n      }));\n    } catch (err) {\n      dispatch(setAlerts({\n        alert: {\n          text: `Cannot add user to group : ${err.toString()}`,\n          alert: \"error\",\n          isOpen: true\n        }\n      }));\n    } finally {\n      setPopupOpen(false);\n    }\n  }\n  async function removeUserFromConversation(userId) {\n    try {\n      const res = await httpService.removeUserFromConversation(userId, groupUrl);\n      dispatch(setAlerts({\n        alert: {\n          text: res.data,\n          alert: \"success\",\n          isOpen: true\n        }\n      }));\n      const users = [...usersInConversation];\n      const index = users.findIndex(elt => elt.userId === userId);\n      users.splice(index, 1);\n      setUsersInConversation(users);\n    } catch (err) {\n      dispatch(setAlerts({\n        alert: {\n          text: `Cannot remove user from group : ${err.toString()}`,\n          alert: \"error\",\n          isOpen: true\n        }\n      }));\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar\",\n      children: /*#__PURE__*/_jsxDEV(List, {\n        component: \"nav\",\n        children: [/*#__PURE__*/_jsxDEV(ListItemButton, {\n          disabled: groups.length === 0,\n          onClick: () => handleAddUserAction(GroupActionEnum.OPEN),\n          children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n            children: /*#__PURE__*/_jsxDEV(GroupAddIcon, {\n              style: {\n                color: generateIconColorMode(theme)\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n            primary: \"Add user to group\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(ListItemButton, {\n          disabled: groups.length === 0,\n          onClick: event => handleClick(event, GroupActionEnum.PARAM),\n          children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n            children: /*#__PURE__*/_jsxDEV(GroupIcon, {\n              style: {\n                color: generateIconColorMode(theme)\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n            primary: \"Members\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 5\n          }, this), paramsOpen ? /*#__PURE__*/_jsxDEV(ExpandLess, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(ExpandMore, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 35\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(Collapse, {\n          in: paramsOpen,\n          children: /*#__PURE__*/_jsxDEV(List, {\n            component: \"div\",\n            disablePadding: true,\n            children: paramsOpen && usersInConversation.map((value, index) => /*#__PURE__*/_jsxDEV(ListItem, {\n              onMouseEnter: event => handleDisplayUserAction(event, index),\n              onMouseLeave: event => closeDisplayUserAction(event),\n              children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                children: value.admin ? /*#__PURE__*/_jsxDEV(SecurityIcon, {\n                  style: {\n                    color: generateIconColorMode(theme)\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 11\n                }, this) : /*#__PURE__*/_jsxDEV(PersonIcon, {\n                  style: {\n                    color: generateIconColorMode(theme)\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 7\n              }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                primary: value.firstName + \" \" + value.lastName,\n                secondary: /*#__PURE__*/_jsxDEV(React.Fragment, {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: generateClassName(theme),\n                    children: value.admin ? \"Administrator\" : \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 289,\n                    columnNumber: 13\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 288,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 7\n              }, this), /*#__PURE__*/_jsxDEV(ListItemSecondaryAction, {\n                onMouseEnter: event => handleDisplayUserAction(event, index),\n                onMouseLeave: event => closeDisplayUserAction(event),\n                children: openTooltipId === index ? /*#__PURE__*/_jsxDEV(Tooltip, {\n                  PopperProps: {\n                    disablePortal: false\n                  },\n                  onClose: event => handleTooltipAction(event, GroupActionEnum.CLOSE),\n                  open: toolTipAction,\n                  disableFocusListener: true,\n                  disableHoverListener: true,\n                  disableTouchListener: true,\n                  title: /*#__PURE__*/_jsxDEV(React.Fragment, {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [isCurrentUserAdmin && value.admin && /*#__PURE__*/_jsxDEV(MenuItem, {\n                        onClick: () => removeUserFromAdminListInConversation(value.userId),\n                        dense: true,\n                        children: \"Remove from administrator\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 318,\n                        columnNumber: 11\n                      }, this), isCurrentUserAdmin && !value.admin && /*#__PURE__*/_jsxDEV(MenuItem, {\n                        onClick: () => grantUserAdminInConversation(value.userId),\n                        dense: true,\n                        children: \"Grant administrator\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 325,\n                        columnNumber: 11\n                      }, this), !((user === null || user === void 0 ? void 0 : user.id) === value.userId) && /*#__PURE__*/_jsxDEV(MenuItem, {\n                        onClick: () => removeUserFromConversation(value.userId),\n                        dense: true,\n                        children: \"Remove from group\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 332,\n                        columnNumber: 11\n                      }, this), (user === null || user === void 0 ? void 0 : user.id) === value.userId && /*#__PURE__*/_jsxDEV(MenuItem, {\n                        onClick: () => leaveGroup(Number(value.userId)),\n                        dense: true,\n                        children: \"Leave group\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 338,\n                        columnNumber: 11\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 315,\n                      columnNumber: 9\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 314,\n                    columnNumber: 7\n                  }, this),\n                  children: /*#__PURE__*/_jsxDEV(IconButton, {\n                    onClick: event => handleTooltipAction(event, GroupActionEnum.OPEN),\n                    style: {\n                      color: generateIconColorMode(theme)\n                    },\n                    children: /*#__PURE__*/_jsxDEV(MoreHorizIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 348,\n                      columnNumber: 7\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 345,\n                    columnNumber: 9\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 9\n                }, this) : /*#__PURE__*/_jsxDEV(IconButton, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 9\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 7\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 5\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 3\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(AllUsersDialog, {\n      usersList: allUsers,\n      open: popupOpen,\n      setOpen: handlePopupState,\n      dialogTitle: \"Add user to conversation\",\n      action: addUserInConversation\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 3\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 252,\n    columnNumber: 5\n  }, this);\n};\n_s(WebSocketGroupActionComponent, \"jCcwjKrSCHOIe1AQIH8Btr9yN20=\", false, function () {\n  return [useThemeContext, useDispatch, useWebSocketContext, useAuthContext, useSelector];\n});\n_c = WebSocketGroupActionComponent;\nvar _c;\n$RefreshReg$(_c, \"WebSocketGroupActionComponent\");","map":{"version":3,"names":["Collapse","IconButton","List","ListItem","ListItemButton","ListItemIcon","ListItemSecondaryAction","ListItemText","MenuItem","Tooltip","ExpandLess","SecurityIcon","ExpandMore","PersonIcon","GroupAddIcon","GroupIcon","MoreHorizIcon","React","useEffect","useState","useDispatch","useSelector","GroupActionEnum","useAuthContext","useThemeContext","generateClassName","generateIconColorMode","useWebSocketContext","TransportModel","TransportActionEnum","AllUsersDialog","HttpService","setAlerts","WebSocketGroupActionComponent","groupUrl","paramsOpen","setParamsOpen","popupOpen","setPopupOpen","usersInConversation","setUsersInConversation","allUsers","setAllUsers","isCurrentUserAdmin","setCurrentUserIsAdmin","toolTipAction","setToolTipAction","openTooltipId","setToolTipId","theme","dispatch","ws","httpService","user","currentActiveGroup","groups","state","globalReducer","clearData","handleTooltipAction","event","action","preventDefault","OPEN","CLOSE","handlePopupState","handleDisplayUserAction","id","closeDisplayUserAction","handleClick","PARAM","length","res","fetchAllUsersInConversation","data","forEach","groupUserModel","userId","admin","Error","isOpen","handleAddUserAction","fetchAllUsersWithoutAlreadyInGroup","leaveGroup","transport","LEAVE_GROUP","undefined","publish","destination","body","JSON","stringify","removeUserFromAdminListInConversation","removeAdminUserInConversation","users","find","elt","alert","text","err","grantUserAdminInConversation","addUserInConversation","addUserToGroup","push","firstName","toString","removeUserFromConversation","index","findIndex","splice","color","map","value","lastName","disablePortal","Number"],"sources":["C:/Users/Tung Thanh/Desktop/Project_HPT/react-spring-messenger-project/Client/src/components/websocket/websocket-group-actions-component.tsx"],"sourcesContent":["import {\r\n  Collapse,\r\n  IconButton,\r\n  List,\r\n  ListItem, ListItemButton,\r\n  ListItemIcon,\r\n  ListItemSecondaryAction,\r\n  ListItemText,\r\n  MenuItem,\r\n  Tooltip\r\n} from \"@mui/material\"\r\nimport { ExpandLess } from \"@mui/icons-material\"\r\nimport SecurityIcon from \"@mui/icons-material/Security\"\r\nimport ExpandMore from \"@mui/icons-material/ExpandMore\"\r\nimport PersonIcon from \"@mui/icons-material/Person\"\r\nimport GroupAddIcon from \"@mui/icons-material/GroupAdd\"\r\nimport GroupIcon from \"@mui/icons-material/Group\"\r\nimport MoreHorizIcon from \"@mui/icons-material/MoreHoriz\"\r\nimport React, { useEffect, useState } from \"react\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { GroupActionEnum } from \"./group-action-enum\"\r\nimport { useAuthContext } from \"../../context/auth-context\"\r\nimport { useThemeContext } from \"../../context/theme-context\"\r\nimport {\r\n  generateClassName,\r\n  generateIconColorMode\r\n} from \"../utils/enable-dark-mode\"\r\nimport { StoreState } from \"../../reducers/types\"\r\nimport { useWebSocketContext } from \"../../context/ws-context\"\r\nimport { TransportModel } from \"../../interface-contract/transport-model\"\r\nimport { TransportActionEnum } from \"../../utils/transport-action-enum\"\r\nimport { AllUsersDialog } from \"../partials/all-users-dialog\"\r\nimport { HttpService } from \"../../service/http-service\"\r\nimport { GroupUserModel } from \"../../interface-contract/group-user-model\"\r\nimport { setAlerts } from \"../../reducers\"\r\n\r\nexport const WebSocketGroupActionComponent: React.FunctionComponent<{ groupUrl: string }> = ({ groupUrl }) => {\r\n  const [paramsOpen, setParamsOpen] = useState(false)\r\n  const [popupOpen, setPopupOpen] = useState(false)\r\n  const [usersInConversation, setUsersInConversation] = useState<GroupUserModel[]>([])\r\n  const [allUsers, setAllUsers] = useState<GroupUserModel[]>([])\r\n  const [isCurrentUserAdmin, setCurrentUserIsAdmin] = useState(false)\r\n  const [toolTipAction, setToolTipAction] = useState(false)\r\n  const [openTooltipId, setToolTipId] = useState<number | null>(null)\r\n  const { theme } = useThemeContext()\r\n  const dispatch = useDispatch()\r\n  const { ws } = useWebSocketContext()\r\n  const httpService = new HttpService()\r\n  const { user } = useAuthContext()\r\n\r\n  const {\r\n    currentActiveGroup,\r\n    groups\r\n  } = useSelector((state: StoreState) => state.globalReducer)\r\n\r\n  useEffect(() => {\r\n    clearData()\r\n    return () => {\r\n\t clearData()\r\n    }\r\n  }, [currentActiveGroup])\r\n\r\n  function handleTooltipAction (event: any, action: string) {\r\n    event.preventDefault()\r\n    if (action === GroupActionEnum.OPEN) {\r\n\t setToolTipAction(true)\r\n    }\r\n    if (action === GroupActionEnum.CLOSE) {\r\n\t setToolTipAction(false)\r\n\t setToolTipId(null)\r\n    }\r\n  }\r\n\r\n  function clearData () {\r\n    setAllUsers([])\r\n    setToolTipAction(false)\r\n    setToolTipId(null)\r\n    setCurrentUserIsAdmin(false)\r\n    setUsersInConversation([])\r\n    handlePopupState(false)\r\n    setParamsOpen(false)\r\n  }\r\n\r\n  function handleDisplayUserAction (event: any, id: number) {\r\n    event.preventDefault()\r\n    setToolTipId(id)\r\n  }\r\n\r\n  function closeDisplayUserAction (event: any) {\r\n    event.preventDefault()\r\n    setToolTipAction(false)\r\n    setToolTipId(null)\r\n  }\r\n\r\n  async function handleClick (event: React.MouseEvent<HTMLElement>, action: string) {\r\n    event.preventDefault()\r\n    switch (action) {\r\n    case GroupActionEnum.PARAM:\r\n\t if (usersInConversation.length === 0) {\r\n\t   const res = await httpService.fetchAllUsersInConversation(groupUrl)\r\n\t   res.data.forEach((groupUserModel) => {\r\n\t\tif (groupUserModel.userId === user?.id && groupUserModel.admin) {\r\n\t\t  setCurrentUserIsAdmin(true)\r\n\t\t}\r\n\t   })\r\n\t   setUsersInConversation(res.data)\r\n\t }\r\n\t setParamsOpen(!paramsOpen)\r\n\t break\r\n    default:\r\n\t throw new Error(\"Error, please refresh page\")\r\n    }\r\n  }\r\n\r\n  function handlePopupState (isOpen: boolean) {\r\n    setPopupOpen(isOpen)\r\n  }\r\n\r\n  async function handleAddUserAction (action: string) {\r\n    switch (action) {\r\n    case GroupActionEnum.OPEN:\r\n\t handlePopupState(true)\r\n\t if (allUsers.length === 0) {\r\n\t   const res = await httpService.fetchAllUsersWithoutAlreadyInGroup(groupUrl)\r\n\t   setAllUsers(res.data)\r\n\t }\r\n\t break\r\n    case GroupActionEnum.CLOSE:\r\n\t handlePopupState(false)\r\n\t break\r\n    default:\r\n\t throw new Error(\"Cannot handle AddUserAction\")\r\n    }\r\n  }\r\n\r\n  function leaveGroup (userId: number) {\r\n    if (ws) {\r\n\t const transport = new TransportModel(userId, TransportActionEnum.LEAVE_GROUP, undefined, groupUrl)\r\n\t ws.publish({\r\n\t   destination: \"/app/message\",\r\n\t   body: JSON.stringify(transport)\r\n\t })\r\n    }\r\n  }\r\n\r\n  async function removeUserFromAdminListInConversation (userId: string | number) {\r\n    try {\r\n\t const res = await httpService.removeAdminUserInConversation(userId, groupUrl)\r\n\t const users = [...usersInConversation]\r\n\t const user = users.find((elt) => elt.userId === userId)\r\n\t if (user) {\r\n\t   user.admin = false\r\n\t }\r\n\t setUsersInConversation(users)\r\n\t dispatch(setAlerts({\r\n\t   alert: {\r\n\t\ttext: res.data,\r\n\t\talert: \"success\",\r\n\t\tisOpen: true\r\n\t   }\r\n\t }))\r\n    } catch (err) {\r\n\t dispatch(setAlerts({\r\n\t   alert: {\r\n\t\ttext: \"Cannot remove user rights. Please retry later\",\r\n\t\talert: \"error\",\r\n\t\tisOpen: true\r\n\t   }\r\n\t }))\r\n    }\r\n  }\r\n\r\n  async function grantUserAdminInConversation (userId: number | string) {\r\n    try {\r\n\t const res = await httpService.grantUserAdminInConversation(userId, groupUrl)\r\n\t dispatch(setAlerts({\r\n\t   alert: {\r\n\t\ttext: res.data,\r\n\t\talert: \"success\",\r\n\t\tisOpen: true\r\n\t   }\r\n\t }))\r\n\t const users = [...usersInConversation]\r\n\t const user = users.find((elt) => elt.userId === userId)\r\n\t if (user) {\r\n\t   user.admin = true\r\n\t }\r\n\t setUsersInConversation(users)\r\n    } catch (err) {\r\n\t dispatch(setAlerts({\r\n\t   alert: {\r\n\t\ttext: \"Cannot grant user. Please retry later\",\r\n\t\talert: \"error\",\r\n\t\tisOpen: true\r\n\t   }\r\n\t }))\r\n    }\r\n  }\r\n\r\n  async function addUserInConversation (userId: string | number) {\r\n    try {\r\n\t const res = await httpService.addUserToGroup(userId, groupUrl)\r\n\t const users = [...usersInConversation]\r\n\t users.push(res.data)\r\n\t setUsersInConversation(users)\r\n\t dispatch(setAlerts({\r\n\t   alert: {\r\n\t\ttext: `${res.data.firstName} has been added to group`,\r\n\t\talert: \"success\",\r\n\t\tisOpen: true\r\n\t   }\r\n\t }))\r\n    } catch (err: any) {\r\n\t dispatch(setAlerts({\r\n\t   alert: {\r\n\t\ttext: `Cannot add user to group : ${err.toString()}`,\r\n\t\talert: \"error\",\r\n\t\tisOpen: true\r\n\t   }\r\n\t }))\r\n    } finally {\r\n\t setPopupOpen(false)\r\n    }\r\n  }\r\n\r\n  async function removeUserFromConversation (userId: string | number) {\r\n    try {\r\n\t const res = await httpService.removeUserFromConversation(userId, groupUrl)\r\n\t dispatch(setAlerts({\r\n\t   alert: {\r\n\t\ttext: res.data,\r\n\t\talert: \"success\",\r\n\t\tisOpen: true\r\n\t   }\r\n\t }))\r\n\t const users = [...usersInConversation]\r\n\t const index = users.findIndex((elt) => elt.userId === userId)\r\n\t users.splice(index, 1)\r\n\t setUsersInConversation(users)\r\n    } catch (err: any) {\r\n\t dispatch(setAlerts({\r\n\t   alert: {\r\n\t\ttext: `Cannot remove user from group : ${err.toString()}`,\r\n\t\talert: \"error\",\r\n\t\tisOpen: true\r\n\t   }\r\n\t }))\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n\t <div className={\"sidebar\"}>\r\n\t   <List\r\n\t\tcomponent=\"nav\">\r\n\t\t<ListItemButton disabled={groups.length === 0}\r\n\t\t\t\t\t onClick={() => handleAddUserAction(GroupActionEnum.OPEN)}>\r\n\t\t  <ListItemIcon>\r\n\t\t    <GroupAddIcon style={{ color: generateIconColorMode(theme) }}/>\r\n\t\t  </ListItemIcon>\r\n\t\t  <ListItemText primary=\"Add user to group\"/>\r\n\t\t</ListItemButton>\r\n\t\t<ListItemButton disabled={groups.length === 0}\r\n\t\t\t\t\t onClick={(event) => handleClick(event, GroupActionEnum.PARAM)}>\r\n\t\t  <ListItemIcon>\r\n\t\t    <GroupIcon style={{ color: generateIconColorMode(theme) }}/>\r\n\t\t  </ListItemIcon>\r\n\t\t  <ListItemText primary=\"Members\"/>\r\n\t\t  {paramsOpen ? <ExpandLess/> : <ExpandMore/>}\r\n\t\t</ListItemButton>\r\n\t\t<Collapse in={paramsOpen}>\r\n\t\t  <List component=\"div\" disablePadding>\r\n\t\t    {paramsOpen && usersInConversation.map((value, index) => (\r\n\t\t\t <ListItem key={index}\r\n\t\t\t\t\t onMouseEnter={(event) => handleDisplayUserAction(event, index)}\r\n\t\t\t\t\t onMouseLeave={event => closeDisplayUserAction(event)}>\r\n\t\t\t   <ListItemIcon>\r\n\t\t\t\t{\r\n\t\t\t\t  value.admin\r\n\t\t\t\t    ? <SecurityIcon\r\n\t\t\t\t\t style={{ color: generateIconColorMode(theme) }}/>\r\n\t\t\t\t    : <PersonIcon\r\n\t\t\t\t\t style={{ color: generateIconColorMode(theme) }}/>\r\n\t\t\t\t}\r\n\t\t\t   </ListItemIcon>\r\n\t\t\t   <ListItemText primary={value.firstName + \" \" + value.lastName}\r\n\t\t\t\t\t\t  secondary={\r\n\t\t\t\t\t\t    <React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className={generateClassName(theme)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t  value.admin\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t    ? \"Administrator\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t    : \"\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t    </React.Fragment>\r\n\t\t\t\t\t\t  }/>\r\n\t\t\t   <ListItemSecondaryAction\r\n\t\t\t\tonMouseEnter={event => handleDisplayUserAction(event, index)}\r\n\t\t\t\tonMouseLeave={event => closeDisplayUserAction(event)}\r\n\t\t\t   >\r\n\t\t\t\t{openTooltipId === index\r\n\t\t\t\t  ? <Tooltip\r\n\t\t\t\t    PopperProps={{\r\n\t\t\t\t\t disablePortal: false\r\n\t\t\t\t    }}\r\n\t\t\t\t    onClose={event => handleTooltipAction(event, GroupActionEnum.CLOSE)}\r\n\t\t\t\t    open={toolTipAction}\r\n\t\t\t\t    disableFocusListener\r\n\t\t\t\t    disableHoverListener\r\n\t\t\t\t    disableTouchListener\r\n\t\t\t\t    title={\r\n\t\t\t\t\t <React.Fragment>\r\n\t\t\t\t\t   <div>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t  isCurrentUserAdmin && value.admin &&\r\n\t\t\t\t\t\t\t\t  <MenuItem\r\n\t\t\t\t\t\t\t\t\t  onClick={() => removeUserFromAdminListInConversation(value.userId)}\r\n\t\t\t\t\t\t\t\t\t  dense={true}>Remove from administrator\r\n\t\t\t\t\t\t\t\t  </MenuItem>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t  isCurrentUserAdmin && !value.admin &&\r\n\t\t\t\t\t\t\t\t  <MenuItem\r\n\t\t\t\t\t\t\t\t\t  onClick={() => grantUserAdminInConversation(value.userId)}\r\n\t\t\t\t\t\t\t\t\t  dense={true}>Grant\r\n\t\t\t\t\t\t\t\t\t  administrator</MenuItem>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t  !(user?.id === value.userId) &&\r\n\t\t\t\t\t\t\t\t  <MenuItem\r\n\t\t\t\t\t\t\t\t\t  onClick={() => removeUserFromConversation(value.userId)}\r\n\t\t\t\t\t\t\t\t\t  dense={true}>Remove from group</MenuItem>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t  user?.id === value.userId &&\r\n\t\t\t\t\t\t\t\t  <MenuItem\r\n\t\t\t\t\t\t\t\t\t  onClick={() => leaveGroup(Number(value.userId))}\r\n\t\t\t\t\t\t\t\t\t  dense={true}>Leave group</MenuItem>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t   </div>\r\n\t\t\t\t\t </React.Fragment>\r\n\t\t\t\t    }>\r\n\t\t\t\t    <IconButton\r\n\t\t\t\t\t onClick={event => handleTooltipAction(event, GroupActionEnum.OPEN)}\r\n\t\t\t\t\t style={{ color: generateIconColorMode(theme) }}>\r\n\t\t\t\t\t <MoreHorizIcon/>\r\n\t\t\t\t    </IconButton>\r\n\t\t\t\t  </Tooltip>\r\n\t\t\t\t  : <IconButton/>\r\n\t\t\t\t}\r\n\t\t\t   </ListItemSecondaryAction>\r\n\t\t\t </ListItem>\r\n\t\t    ))}\r\n\t\t  </List>\r\n\t\t</Collapse>\r\n\t   </List>\r\n\t </div>\r\n\t <AllUsersDialog usersList={allUsers} open={popupOpen} setOpen={handlePopupState}\r\n\t\t\t\t  dialogTitle={\"Add user to conversation\"} action={addUserInConversation}/>\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}